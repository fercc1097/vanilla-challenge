!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a=()=>'\n    <div class="Header-main">\n      <div class="Header-logo">\n        <h1>\n          <a href="/">\n            Mi portafolio\n          </a>\n        </h1>\n      </div>\n      <div class="Header-nav">\n      </div>\n    </div>\n  ';var l=async()=>{try{const e=await fetch("https://my.api.mockaroo.com/books.json?key=8feed230");return await e.json()}catch(e){console.log("Fetch Error",e)}};var o=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/";var i=()=>'\n        <div class ="Error404">\n           <h2>Error 404</h2>\n        </div>\n    ';var d=e=>{if(e.length<=3){return"/"===e?e:"/:id"}};const s={"/":async()=>{let e=[];localStorage.getItem("localData")||localStorage.setItem("localData",[]),localStorage.getItem("localData").length>2?e=JSON.parse(localStorage.getItem("localData")):(e=await l(),localStorage.setItem("localData",JSON.stringify(e)));return`\n    <h1>Libros</h1>\n    <div class="buttonsContainer">\n        <button id="addButton"> Añadir Libro</button>\n    </div>\n    <div id="modal" class="modal">\n        <div class="form">\n            <h2 id="formTitle">Nuevo Libro</h2>\n            <div class="formElement">\n                <p class="formLabel">\n                ID:\n                </p>\n                <input id="idInput" class="formInput" type="text" placeholder="ID">\n            </div>\n            <div class="formElement">\n                <p class="formLabel">\n                Nombre:\n                </p>\n                <input id="nombreInput" class="formInput" type="text" placeholder="Nombre">\n            </div>\n            <div class="formElement">\n                <p class="formLabel">\n                Apellido:\n                </p>\n                <input id="apellidoInput" class="formInput" type="text" placeholder="Apellidos">\n            </div>\n            <div class="formElement">\n                <p class="formLabel">\n                Título:\n                </p>\n                <input id="tituloInput" class="formInput" type="text" placeholder="Titulo">\n            </div>    \n            <button class="addButton" id="addButtonForm"> Añadir Libro</button> \n        </div>\n    </div>\n    <section class="table">\n        <div class="table--title">\n            <p>\n                ID\n            </p>\n        </div>\n        <div class="table--title">\n            <p>\n                Nombre\n            </p>\n        </div>\n        <div class="table--title">\n            <p>\n                Apellido\n            </p>\n        </div>\n        <div class="table--title">\n            <p>\n                Titulo\n            </p>\n        </div>\n        <div class="table--title">\n            <p>\n                Editar\n            </p>\n        </div>\n        <div class="table--title">\n            <p>\n                Borrar\n            </p>\n        </div>\n\n        ${e.map(e=>`\n        <div id="idCell${e.id}" class="table--content">\n            <p id="id${e.id}">\n                ${e.id}\n            </p>\n        </div>\n        <div id="firstNameCell${e.id}" class="table--content">\n            <p id="firstName${e.id}">\n                ${e.first_name} \n            </p>\n        </div>\n        <div id="lastNameCell${e.id}" class="table--content">\n            <p id="lastName${e.id}">\n                ${e.last_name}\n            </p>\n        </div>\n        <div id="bookCell${e.id}" class="table--content">\n            <p id="book${e.id}">\n                ${e.book}\n            </p>\n        </div>\n        <div data-id=${e.id} id="editCell${e.id}" class="table--content table--button button-edit">\n            <i id="edit${e.id}" class="fa fa-pencil" aria-hidden="true"></i>\n        </div>\n        <div data-id=${e.id} id="deleteCell${e.id}" class="table--content table--button button-delete">\n        <i id="delete${e.id}" class="fa fa-trash-o" aria-hidden="true"></i>        </div>\n        `).join("")}\n    </section>\n\n    \n    `},"/:id":async()=>{const e=o(),t=await l(e);return`\n        <div class ="Character-inner">\n            <article class="Characters-card">\n                <img src="${t.image}" alt="${t.name}">\n                <h2> ${t.name} </h2>\n            </article>\n            <article class="Characters-card">\n            <h3>Episodios: <span>${t.episode.length}</span></h3>\n            <h3>Status: <span>${t.status}</span></h3>\n            <h3>Species: <span>${t.species}</span></h3>\n            <h3>Gender: <span>${t.gender}</span></h3>\n            <h3>Origin: <span>${t.origin.name}</span></h3>\n            <h3>Last Location: <span>${t.location.name}</span></h3>\n            </article>\n        </div>\n    `}};var r=async()=>{const e=document.getElementById("header"),t=document.getElementById("content");e.innerHTML=await a();let n=o(),l=await d(n),r=s[l]?s[l]:i;t.innerHTML=await r();const c=JSON.parse(localStorage.getItem("localData"));let m=document.getElementsByClassName("button-delete");for(let e of m)e.addEventListener("click",(function(){const e=document.getElementById("idCell"+this.dataset.id),t=document.getElementById("firstNameCell"+this.dataset.id),n=document.getElementById("lastNameCell"+this.dataset.id),a=document.getElementById("bookCell"+this.dataset.id),l=document.getElementById("editCell"+this.dataset.id),o=document.getElementById("deleteCell"+this.dataset.id);e.remove(),t.remove(),n.remove(),a.remove(),l.remove(),o.remove();const i=c.indexOf(this.dataset.id);c.splice(i,1),localStorage.setItem("localData",JSON.stringify(c)),console.log(localStorage.getItem("localData").length),2===localStorage.getItem("localData").length&&alert("Ya no hay más elementos")}));let u=document.getElementsByClassName("button-edit");for(let e of u)e.addEventListener("click",(function(){const e=document.getElementById("idCell"+this.dataset.id).innerText,t=document.getElementById("firstNameCell"+this.dataset.id).innerText,n=document.getElementById("lastNameCell"+this.dataset.id).innerText,a=document.getElementById("bookCell"+this.dataset.id).innerText;document.getElementById("idInput").value=e,document.getElementById("tituloInput").value=a,document.getElementById("nombreInput").value=t,document.getElementById("apellidoInput").value=n,f("Editar: "+a,()=>{let e=v();const t=c.findIndex(e=>e.book===a);console.log(t),c.splice(t,1),c.push(e),localStorage.setItem("localData",JSON.stringify(c)),g(),window.location.reload()})}));document.getElementById("addButton").addEventListener("click",()=>{f("Nuevo Libro",()=>{let e=v();console.log(e),p(e),g()})});const p=e=>{c.push(e),console.log(c),localStorage.setItem("localData",JSON.stringify(c)),window.location.reload()},v=()=>{const e=document.getElementById("idInput").value,t=document.getElementById("tituloInput").value,n=document.getElementById("nombreInput").value,a=document.getElementById("apellidoInput").value;return{id:parseInt(e),first_name:n,last_name:a,book:t}},g=()=>{let e=v(),t=document.getElementById("modal");return document.getElementById("idInput").value="",document.getElementById("tituloInput").value="",document.getElementById("nombreInput").value="",document.getElementById("apellidoInput").value="",t.style.display="none",e},f=(e,t)=>{document.getElementById("formTitle").innerText=e,document.getElementById("modal").style.display="flex";document.getElementById("addButtonForm").addEventListener("click",t)}};window.addEventListener("load",r),window.addEventListener("hashchange",r)}]);